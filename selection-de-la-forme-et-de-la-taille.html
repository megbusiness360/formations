<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simulateur : S√©lection de Capsules</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&family=Montserrat:wght@600;800&display=swap" rel="stylesheet">
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Lato', 'sans-serif'],
                        display: ['Montserrat', 'sans-serif'],
                    },
                    colors: {
                        gold: {
                            100: '#FFFEEC',
                            200: '#FFF9B3',
                            300: '#FFF37D',
                            400: '#FFED3F',
                            500: '#E3D002',
                            800: '#504801',
                            900: '#2F2C00',
                        },
                        violet: {
                            100: '#E8E7FF',
                            200: '#DAD9FF',
                            300: '#BFBCFF',
                            500: '#7C7AC2',
                            700: '#555385',
                            900: '#414066',
                        },
                        grey: {
                            50: '#F9F9F9',
                            100: '#EDEDED',
                            300: '#BDBDBD',
                            500: '#737373',
                            800: '#2A2A2A',
                            900: '#0D0D0D',
                        }
                    }
                }
            }
        }
    </script>

    <!-- React & ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

    <style>
        body {
            background-color: #EDEDED;
            color: #2A2A2A;
        }
        .animate-pulse-slow {
            animation: pulse 3s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: .5; }
        }
        .glass-panel {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.5);
        }
        input[type=range] {
            -webkit-appearance: none;
            background: transparent;
        }
        input[type=range]::-webkit-slider-thumb {
            -webkit-appearance: none;
            height: 24px;
            width: 24px;
            border-radius: 50%;
            background: #E3D002;
            cursor: pointer;
            margin-top: -10px;
            box-shadow: 0 2px 6px rgba(0,0,0,0.2);
        }
        input[type=range]::-webkit-slider-runnable-track {
            width: 100%;
            height: 4px;
            cursor: pointer;
            background: #DDD;
            border-radius: 2px;
        }
    </style>
</head>
<body>
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useRef } = React;

        // --- SVGs & Icons ---
        const IconCheck = () => (
            <svg className="w-6 h-6 text-green-600" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="3" d="M5 13l4 4L19 7"></path></svg>
        );
        const IconWarn = () => (
            <svg className="w-6 h-6 text-orange-500" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"></path></svg>
        );

        // --- Components ---

        // 1. INTRO
        const Intro = ({ onStart }) => (
            <div className="min-h-screen flex flex-col items-center justify-center p-6 bg-gradient-to-br from-violet-100 to-gold-100">
                <div className="max-w-2xl w-full bg-white rounded-2xl shadow-xl p-8 text-center border-t-8 border-gold-400">
                    <div className="mb-6 flex justify-center">
                        <div className="w-20 h-20 bg-violet-100 rounded-full flex items-center justify-center text-4xl">üíÖ</div>
                    </div>
                    <h1 className="font-display text-4xl font-bold text-violet-900 mb-4">L'Art de la S√©lection</h1>
                    <p className="font-sans text-xl text-grey-500 mb-8">
                        La r√©ussite d'une pose commence bien avant le collage. 
                        Mettez-vous dans la peau d'une proth√©siste ongulaire et ma√Ætrisez le diagnostic, le choix de la forme et l'ajustement de la taille.
                    </p>
                    
                    <div className="grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 text-left">
                        <div className="p-4 bg-grey-50 rounded-lg border border-grey-100">
                            <span className="text-gold-500 font-bold text-xl block mb-2">01</span>
                            <span className="font-display font-semibold text-grey-800">Diagnostic</span>
                            <p className="text-sm text-grey-500">Analysez la main et l'ongle.</p>
                        </div>
                        <div className="p-4 bg-grey-50 rounded-lg border border-grey-100">
                            <span className="text-gold-500 font-bold text-xl block mb-2">02</span>
                            <span className="font-display font-semibold text-grey-800">Morphologie</span>
                            <p className="text-sm text-grey-500">Associez la bonne forme.</p>
                        </div>
                        <div className="p-4 bg-grey-50 rounded-lg border border-grey-100">
                            <span className="text-gold-500 font-bold text-xl block mb-2">03</span>
                            <span className="font-display font-semibold text-grey-800">Calibrage</span>
                            <p className="text-sm text-grey-500">Ajustez au millim√®tre pr√®s.</p>
                        </div>
                    </div>

                    <button 
                        onClick={onStart}
                        className="bg-violet-700 hover:bg-violet-900 text-white font-display font-bold py-4 px-10 rounded-full shadow-lg transform transition hover:scale-105"
                    >
                        Commencer la session
                    </button>
                </div>
            </div>
        );

        // 2. GAME 1: DIAGNOSIS (Interactive SVG)
        const DiagnosisGame = ({ onComplete }) => {
            const [found, setFound] = useState([]);
            const [message, setMessage] = useState("Cliquez sur les zones cl√©s de l'ongle pour les analyser.");
            
            const targets = [
                { id: 'cuticle', name: 'Cuticules', desc: "Zone saine, pas d'inflammation. Pr√™t pour repousse.", x: 50, y: 80, r: 10 },
                { id: 'plate', name: 'Lit Ungu√©al', desc: "Plaque ros√©e, surface lisse. Pas de stries majeures.", x: 50, y: 50, r: 12 },
                { id: 'wall', name: 'Sillons Lat√©raux', desc: "Sillons profonds. Attention √† ne pas toucher la peau.", x: 25, y: 50, r: 8 },
                { id: 'free', name: 'Bord Libre', desc: "Bord r√©gulier, pas de d√©doublement. Longueur courte.", x: 50, y: 15, r: 8 },
            ];

            const handleZoneClick = (target) => {
                if (!found.includes(target.id)) {
                    setFound([...found, target.id]);
                }
                setMessage(target.desc);
            };

            const isComplete = found.length === targets.length;

            return (
                <div className="flex flex-col h-full bg-grey-100">
                    <div className="bg-white p-6 shadow-sm z-10">
                        <h2 className="font-display text-2xl font-bold text-violet-900">√âtape 1 : Diagnostic</h2>
                        <p className="text-grey-500">Rep√©rez les 4 zones anatomiques essentielles avant toute pose.</p>
                    </div>

                    <div className="flex-1 flex flex-col md:flex-row items-center justify-center p-4 gap-8">
                        {/* Interactive Hand/Finger */}
                        <div className="relative w-64 h-96 bg-white rounded-3xl shadow-xl overflow-hidden border-4 border-white">
                            <svg viewBox="0 0 100 150" className="w-full h-full cursor-crosshair">
                                {/* Finger base */}
                                <path d="M20,150 L20,60 C20,30 80,30 80,60 L80,150 Z" fill="#F3D0B6" />
                                {/* Nail Plate */}
                                <path d="M30,60 C30,40 70,40 70,60 L70,85 C70,88 30,88 30,85 Z" fill="#F8E3D8" stroke="#E6C0A4" strokeWidth="1" />
                                {/* Lunula */}
                                <path d="M35,80 Q50,70 65,80" fill="none" stroke="white" strokeOpacity="0.6" strokeWidth="1" />
                                
                                {/* Interactive Zones (Invisible but clickable) */}
                                {targets.map((t) => (
                                    <g key={t.id} onClick={() => handleZoneClick(t)} className="cursor-pointer group">
                                        <circle 
                                            cx={t.x} cy={t.y} r={t.r} 
                                            fill={found.includes(t.id) ? "#10B981" : "#FFED3F"} 
                                            fillOpacity={found.includes(t.id) ? "0.6" : "0.0"}
                                            className="transition-all duration-300 group-hover:fill-opacity-40"
                                        />
                                        {!found.includes(t.id) && (
                                            <circle cx={t.x} cy={t.y} r="2" fill="#E3D002" className="animate-ping" />
                                        )}
                                    </g>
                                ))}
                            </svg>
                        </div>

                        {/* Info Panel */}
                        <div className="w-full max-w-md space-y-4">
                            <div className="bg-white p-6 rounded-xl shadow-md border-l-4 border-violet-500 min-h-[100px] flex items-center">
                                <p className="font-sans text-lg text-grey-800">{message}</p>
                            </div>

                            <div className="grid grid-cols-2 gap-2">
                                {targets.map(t => (
                                    <div key={t.id} className={`p-3 rounded-lg border flex items-center justify-between transition-colors ${found.includes(t.id) ? 'bg-green-50 border-green-200 text-green-800' : 'bg-grey-50 border-grey-200 text-grey-400'}`}>
                                        <span className="font-bold text-sm">{t.name}</span>
                                        {found.includes(t.id) && <IconCheck />}
                                    </div>
                                ))}
                            </div>

                            {isComplete && (
                                <button onClick={onComplete} className="w-full bg-violet-700 hover:bg-violet-800 text-white font-bold py-3 px-6 rounded-lg shadow-lg mt-4 animate-bounce">
                                    Valider le diagnostic &rarr;
                                </button>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // 3. GAME 2: MORPHOLOGY MATCHING
        const MorphologyGame = ({ onComplete }) => {
            const [currentCase, setCurrentCase] = useState(0);
            const [feedback, setFeedback] = useState(null); // 'correct' | 'incorrect'

            const cases = [
                {
                    id: 1,
                    title: "Main Large / Doigts Courts",
                    desc: "La cliente trouve ses doigts boudin√©s. Elle veut affiner sa silhouette.",
                    correct: 'amande',
                    reason: "Correct ! L'Amande (ou Ovale) allonge visuellement le doigt et adoucit la largeur."
                },
                {
                    id: 2,
                    title: "Doigts Longs et Fins",
                    desc: "La cliente a des doigts de pianiste. Elle veut quelque chose de moderne mais √©quilibr√©.",
                    correct: 'carre',
                    reason: "Exact ! Le Carr√© structure et casse l'effet de longueur excessive des doigts tr√®s fins."
                },
                {
                    id: 3,
                    title: "Ongle Fragile & Mou",
                    desc: "La cliente a des ongles naturels tr√®s mous qui cassent facilement. Elle veut du confort.",
                    correct: 'arrondi',
                    reason: "Bien vu ! L'Arrondi est la forme la plus solide m√©caniquement (pas d'angles cassants)."
                }
            ];

            const shapes = [
                { id: 'carre', label: 'Carr√©', path: 'M10,10 H90 V90 H10 Z' },
                { id: 'arrondi', label: 'Arrondi', path: 'M10,10 H90 V60 C90,90 10,90 10,60 Z' },
                { id: 'amande', label: 'Amande', path: 'M10,10 H90 V40 C90,80 50,100 50,100 C50,100 10,80 10,40 Z' },
                { id: 'stiletto', label: 'Stiletto', path: 'M10,10 H90 V30 L50,100 L10,30 Z' }
            ];

            const handleChoice = (shapeId) => {
                if (feedback) return;

                if (shapeId === cases[currentCase].correct) {
                    setFeedback('correct');
                    setTimeout(() => {
                        if (currentCase < cases.length - 1) {
                            setCurrentCase(curr => curr + 1);
                            setFeedback(null);
                        } else {
                            onComplete();
                        }
                    }, 2500);
                } else {
                    setFeedback('incorrect');
                    setTimeout(() => setFeedback(null), 1500);
                }
            };

            return (
                <div className="flex flex-col h-full bg-gold-100">
                    <div className="bg-white p-6 shadow-sm">
                        <h2 className="font-display text-2xl font-bold text-violet-900">√âtape 2 : Harmonie</h2>
                        <p className="text-grey-500">S√©lectionnez la forme de capsule adapt√©e √† la demande.</p>
                    </div>

                    <div className="flex-1 flex flex-col items-center justify-center p-4 max-w-4xl mx-auto w-full">
                        
                        {/* Client Card */}
                        <div className="bg-white p-8 rounded-2xl shadow-xl mb-8 w-full border-t-8 border-gold-400 relative overflow-hidden">
                            <div className="absolute top-0 right-0 p-4 opacity-10">
                                <svg className="w-32 h-32" fill="currentColor" viewBox="0 0 24 24"><path d="M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"/></svg>
                            </div>
                            <span className="text-xs font-bold tracking-widest text-gold-800 uppercase mb-2 block">Cas Client {currentCase + 1}/{cases.length}</span>
                            <h3 className="font-display text-2xl font-bold text-grey-900 mb-2">{cases[currentCase].title}</h3>
                            <p className="text-lg text-grey-600 italic">"{cases[currentCase].desc}"</p>
                            
                            {feedback === 'correct' && (
                                <div className="mt-4 p-3 bg-green-100 text-green-800 rounded-lg flex items-center animate-pulse">
                                    <IconCheck /> <span className="ml-2 font-bold">{cases[currentCase].reason}</span>
                                </div>
                            )}
                            {feedback === 'incorrect' && (
                                <div className="mt-4 p-3 bg-red-100 text-red-800 rounded-lg flex items-center animate-shake">
                                    <IconWarn /> <span className="ml-2 font-bold">Ce choix n'est pas optimal pour ce cas. R√©essayez.</span>
                                </div>
                            )}
                        </div>

                        {/* Shapes Grid */}
                        <div className="grid grid-cols-2 md:grid-cols-4 gap-4 w-full">
                            {shapes.map(shape => (
                                <button 
                                    key={shape.id}
                                    onClick={() => handleChoice(shape.id)}
                                    className={`
                                        p-6 rounded-xl border-2 flex flex-col items-center justify-center transition-all duration-200 transform hover:scale-105
                                        ${feedback ? 'cursor-not-allowed opacity-50' : 'cursor-pointer hover:border-violet-500 hover:shadow-lg bg-white'}
                                    `}
                                >
                                    <svg viewBox="0 0 100 110" className="w-16 h-16 mb-4 fill-violet-100 stroke-violet-500 stroke-2">
                                        <path d={shape.path} />
                                    </svg>
                                    <span className="font-display font-bold text-grey-700">{shape.label}</span>
                                </button>
                            ))}
                        </div>
                    </div>
                </div>
            );
        };

        // 4. GAME 3: SIZING SIMULATOR
        const SizingGame = ({ onComplete }) => {
            // Target width represents the nail bed width (e.g., 60%)
            // User adjusts capsule width. 
            // Range for success: Match width exactly or slightly larger (to file down). 
            // Too small = fail. Too big = fail (touching skin).
            
            const [size, setSize] = useState(50);
            const [status, setStatus] = useState('neutral'); // neutral, too_small, perfect, too_big
            const [attempts, setAttempts] = useState(0);

            const NAIL_WIDTH = 64; // The target width
            const TOLERANCE_LOW = 0; // Capsule shouldn't be smaller
            const TOLERANCE_HIGH = 4; // Capsule can be slightly larger (to be filed)

            const checkSize = () => {
                setAttempts(prev => prev + 1);
                
                // Logic: 
                // < NAIL_WIDTH : Too small (gap)
                // >= NAIL_WIDTH && <= NAIL_WIDTH + TOLERANCE : Perfect
                // > NAIL_WIDTH + TOLERANCE : Too big (touches skin)
                
                if (size < NAIL_WIDTH) {
                    setStatus('too_small');
                } else if (size > NAIL_WIDTH + 8) { // Allow wider range for visual "too big"
                    setStatus('too_big');
                } else {
                    setStatus('perfect');
                }
            };

            const handleNext = () => {
                onComplete();
            };

            return (
                <div className="flex flex-col h-full bg-violet-50">
                    <div className="bg-white p-6 shadow-sm">
                        <h2 className="font-display text-2xl font-bold text-violet-900">√âtape 3 : Calibrage de Taille</h2>
                        <p className="text-grey-500">Ajustez la taille de la capsule (bleut√©e) pour qu'elle recouvre parfaitement le lit ungu√©al (ros√©) sans toucher les peaux.</p>
                    </div>

                    <div className="flex-1 flex flex-col items-center justify-center p-4">
                        
                        {/* SIMULATION VIEWPORT */}
                        <div className="relative w-80 h-80 bg-white rounded-full shadow-2xl border-8 border-white overflow-hidden flex items-center justify-center mb-8">
                            <div className="absolute inset-0 bg-neutral-200"></div> {/* Background skin */}
                            
                            {/* Finger */}
                            <div className="w-48 h-full bg-[#F3D0B6] absolute top-10 rounded-t-3xl"></div>

                            {/* Natural Nail (Target) - Width fixed at NAIL_WIDTH% of container (approx) */}
                            <div 
                                style={{ width: `${NAIL_WIDTH}%` }}
                                className="h-48 bg-[#F8E3D8] border border-[#E6C0A4] absolute top-20 rounded-t-2xl z-10"
                            >
                                {/* Side walls indicators */}
                                <div className="absolute left-0 top-0 bottom-0 w-px bg-red-400 opacity-30"></div>
                                <div className="absolute right-0 top-0 bottom-0 w-px bg-red-400 opacity-30"></div>
                            </div>

                            {/* Capsule (Adjustable) */}
                            <div 
                                style={{ width: `${size}%` }}
                                className={`
                                    h-56 border-2 absolute top-16 rounded-t-2xl z-20 transition-all duration-100 opacity-80
                                    ${status === 'perfect' ? 'bg-green-200 border-green-600' : 
                                      status === 'too_big' ? 'bg-red-200 border-red-600' : 
                                      status === 'too_small' ? 'bg-orange-200 border-orange-500' : 'bg-blue-100 border-blue-400'}
                                `}
                            >
                                <div className="text-center mt-2 text-xs font-bold opacity-50">CAPSULE</div>
                            </div>
                            
                            {/* Skin folds (Overlays to show overlapping) */}
                            <div className="absolute inset-y-0 left-0 w-[18%] bg-[#F3D0B6] z-30 opacity-90 blur-sm"></div>
                            <div className="absolute inset-y-0 right-0 w-[18%] bg-[#F3D0B6] z-30 opacity-90 blur-sm"></div>

                        </div>

                        {/* CONTROLS */}
                        <div className="w-full max-w-md bg-white p-6 rounded-xl shadow-lg">
                            <label className="block text-sm font-bold text-grey-700 mb-2">Ajustement Largeur</label>
                            <input 
                                type="range" 
                                min="40" 
                                max="90" 
                                value={size} 
                                onChange={(e) => {
                                    setSize(Number(e.target.value));
                                    setStatus('neutral');
                                }}
                                className="w-full mb-6"
                            />

                            {status === 'neutral' && (
                                <button onClick={checkSize} className="w-full py-3 bg-grey-800 text-white font-bold rounded-lg hover:bg-black transition">
                                    V√©rifier l'ajustement
                                </button>
                            )}

                            {status === 'too_small' && (
                                <div className="text-center">
                                    <p className="text-orange-600 font-bold mb-2">‚ö†Ô∏è Trop petite !</p>
                                    <p className="text-sm text-grey-600 mb-4">Il y a un vide sur les c√¥t√©s. Risque de d√©collement.</p>
                                    <button onClick={() => setStatus('neutral')} className="text-violet-600 font-bold underline">R√©essayer</button>
                                </div>
                            )}

                            {status === 'too_big' && (
                                <div className="text-center">
                                    <p className="text-red-600 font-bold mb-2">‚ö†Ô∏è Trop grande !</p>
                                    <p className="text-sm text-grey-600 mb-4">La capsule touche les peaux (cuticules/sillons). Risque d'inflammation.</p>
                                    <button onClick={() => setStatus('neutral')} className="text-violet-600 font-bold underline">R√©essayer</button>
                                </div>
                            )}

                            {status === 'perfect' && (
                                <div className="text-center animate-bounce-short">
                                    <p className="text-green-600 font-bold mb-2">‚úÖ Parfait !</p>
                                    <p className="text-sm text-grey-600 mb-4">La capsule couvre le lit ungu√©al sans toucher la peau. (L√©g√®rement plus grande = OK pour limage).</p>
                                    <button onClick={handleNext} className="w-full py-3 bg-violet-600 text-white font-bold rounded-lg shadow-lg hover:bg-violet-700">
                                        Terminer la formation
                                    </button>
                                </div>
                            )}
                        </div>
                    </div>
                </div>
            );
        };

        // 5. CONCLUSION
        const Conclusion = ({ onRestart }) => (
            <div className="min-h-screen flex flex-col items-center justify-center bg-white p-6">
                <div className="text-center max-w-xl animate-fade-in">
                    <div className="inline-block p-4 rounded-full bg-green-100 text-green-600 mb-6">
                        <svg className="w-16 h-16" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path strokeLinecap="round" strokeLinejoin="round" strokeWidth="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path></svg>
                    </div>
                    <h1 className="font-display text-4xl font-bold text-violet-900 mb-4">Formation Valid√©e !</h1>
                    <p className="text-lg text-grey-600 mb-8">
                        Vous avez d√©montr√© votre capacit√© √† analyser l'ongle, choisir la forme adapt√©e et s√©lectionner la taille parfaite. Ces comp√©tences sont la base d'une pose durable et professionnelle.
                    </p>
                    
                    <div className="bg-gold-100 p-6 rounded-xl border border-gold-300 mb-8 text-left">
                        <h3 className="font-bold text-gold-800 mb-2">√Ä retenir :</h3>
                        <ul className="list-disc list-inside text-sm text-gold-900 space-y-1">
                            <li>L'observation pr√©c√®de toujours l'action.</li>
                            <li>La forme doit respecter la morphologie et le mode de vie.</li>
                            <li>Dans le doute sur une taille, prenez la plus grande et limez-la.</li>
                        </ul>
                    </div>

                    <button 
                        onClick={onRestart}
                        className="px-8 py-3 border-2 border-violet-200 text-violet-700 font-bold rounded-full hover:bg-violet-50 transition"
                    >
                        Recommencer
                    </button>
                </div>
            </div>
        );

        // --- MAIN APP COMPONENT ---
        const Game = () => {
            const [step, setStep] = useState('intro'); // intro, diag, morpho, size, end

            return (
                <div className="font-sans text-grey-900 antialiased h-screen w-screen overflow-hidden flex flex-col">
                    {/* Header */}
                    {step !== 'intro' && step !== 'end' && (
                        <header className="bg-white border-b border-grey-200 h-16 flex items-center justify-between px-6 shrink-0">
                            <div className="font-display font-bold text-violet-900 flex items-center gap-2">
                                <span className="text-xl">üíÖ</span> Acad√©mie Ongulaire
                            </div>
                            <div className="flex gap-2">
                                <div className={`h-2 w-8 rounded-full ${step === 'diag' ? 'bg-gold-400' : 'bg-grey-200'}`}></div>
                                <div className={`h-2 w-8 rounded-full ${step === 'morpho' ? 'bg-gold-400' : 'bg-grey-200'}`}></div>
                                <div className={`h-2 w-8 rounded-full ${step === 'size' ? 'bg-gold-400' : 'bg-grey-200'}`}></div>
                            </div>
                        </header>
                    )}

                    {/* Content Area */}
                    <main className="flex-1 overflow-y-auto">
                        {step === 'intro' && <Intro onStart={() => setStep('diag')} />}
                        {step === 'diag' && <DiagnosisGame onComplete={() => setStep('morpho')} />}
                        {step === 'morpho' && <MorphologyGame onComplete={() => setStep('size')} />}
                        {step === 'size' && <SizingGame onComplete={() => setStep('end')} />}
                        {step === 'end' && <Conclusion onRestart={() => setStep('intro')} />}
                    </main>
                </div>
            );
        };

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<Game />);
    </script>
</body>
</html>
